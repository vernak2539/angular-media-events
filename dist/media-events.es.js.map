{"version":3,"file":"media-events.es.js","sources":["../src/eval-service.js","../src/loadedmetadata.js","../src/progress.js","../src/ended.js","../src/play.js","../src/pause.js","../src/_module.js"],"sourcesContent":["const EVAL_SERVICE_NAME = 'eval-service';\n\nclass EvalService {\n\tscopeEval(options = {}) {\n\t\tvar scope = options.scope;\n\t\tvar locals = {\n\t\t\t$event: options.$event\n\t\t};\n\n\t\tif (options.attrs) {\n\t\t\tlocals.attrs = options.attrs;\n\t\t}\n\n\t\tscope.$apply(() => {\n\t\t\tscope.$eval(options.fn, locals);\n\t\t});\n\t}\n}\n\nexport default {\n\tname: EVAL_SERVICE_NAME,\n\tmain: EvalService\n};\n","'use strict';\n\nimport EvalService from './eval-service';\n\nconst LOADED_METADATA_DIRECTIVE_NAME = 'onLoadedMetadata';\n\nconst LoadedMetadataDirective = evalService => ({\n\trestrict: 'A',\n\tscope: true,\n\tlink(scope, element, attrs) {\n\t\telement.on('loadedmetadata', function(event) {\n\t\t\tvar locals = {\n\t\t\t\twidth: this.videoWidth,\n\t\t\t\theight: this.videoHeight\n\t\t\t};\n\n\t\t\tevalService.scopeEval({\n\t\t\t\tscope: scope,\n\t\t\t\tfn: attrs[LOADED_METADATA_DIRECTIVE_NAME],\n\t\t\t\t$event: event,\n\t\t\t\tattrs: locals\n\t\t\t});\n\t\t});\n\t}\n});\n\nexport default {\n\tname: LOADED_METADATA_DIRECTIVE_NAME,\n\tmain: [EvalService.name, LoadedMetadataDirective]\n};\n","'use strict';\n\nimport EvalService from './eval-service';\n\nconst PROGRESS_DIRECTIVE_NAME = 'onProgress';\n\nconst ProgressDirective = evalService => ({\n\trestrict: 'A',\n\tscope: true,\n\tlink(scope, element, attrs) {\n\t\telement.on('progress', function(event) {\n\t\t\tvar locals = {\n\t\t\t\tbuffered: this.buffered\n\t\t\t};\n\n\t\t\tevalService.scopeEval({\n\t\t\t\tscope: scope,\n\t\t\t\tfn: attrs[PROGRESS_DIRECTIVE_NAME],\n\t\t\t\t$event: event,\n\t\t\t\tattrs: locals\n\t\t\t});\n\t\t});\n\t}\n});\n\nexport default {\n\tname: PROGRESS_DIRECTIVE_NAME,\n\tmain: [EvalService.name, ProgressDirective]\n};\n","'use strict';\n\nimport EvalService from './eval-service';\n\nconst ENDED_DIRECTIVE_NAME = 'onEnded';\n\nconst EndedDirective = evalService => ({\n\trestrict: 'A',\n\tscope: true,\n\tlink(scope, element, attrs) {\n\t\telement.on('ended', function(event) {\n\t\t\tevalService.scopeEval({\n\t\t\t\tscope: scope,\n\t\t\t\tfn: attrs[ENDED_DIRECTIVE_NAME],\n\t\t\t\t$event: event\n\t\t\t});\n\t\t});\n\t}\n});\n\nexport default {\n\tname: ENDED_DIRECTIVE_NAME,\n\tmain: [EvalService.name, EndedDirective]\n};\n","'use strict';\n\nimport EvalService from './eval-service';\n\nconst PLAY_DIRECTIVE_NAME = 'onPlay';\n\nconst PlayDirective = evalService => ({\n\trestrict: 'A',\n\tscope: true,\n\tlink(scope, element, attrs) {\n\t\telement.on('play', event => {\n\t\t\tevalService.scopeEval({\n\t\t\t\tscope: scope,\n\t\t\t\tfn: attrs[PLAY_DIRECTIVE_NAME],\n\t\t\t\t$event: event\n\t\t\t});\n\t\t});\n\t}\n});\n\nexport default {\n\tname: PLAY_DIRECTIVE_NAME,\n\tmain: [EvalService.name, PlayDirective]\n};\n","'use strict';\n\nimport EvalService from './eval-service';\n\nconst PAUSE_DIRECTIVE_NAME = 'onPause';\n\nconst PauseDirective = evalService => ({\n\trestrict: 'A',\n\tscope: true,\n\tlink(scope, element, attrs) {\n\t\telement.on('pause', event => {\n\t\t\tevalService.scopeEval({\n\t\t\t\tscope: scope,\n\t\t\t\tfn: attrs[PAUSE_DIRECTIVE_NAME],\n\t\t\t\t$event: event\n\t\t\t});\n\t\t});\n\t}\n});\n\nexport default {\n\tname: PAUSE_DIRECTIVE_NAME,\n\tmain: [EvalService.name, PauseDirective]\n};\n","'use strict';\n\nconst MODULE_NAME = 'media-events';\n\nimport EvalService from './eval-service';\nimport LoadedMetadata from './loadedmetadata';\nimport Progress from './progress';\nimport Ended from './ended';\nimport Play from './play';\nimport Pause from './pause';\n\nangular\n\t.module(MODULE_NAME, [])\n\t.service(EvalService.name, EvalService.main)\n\t.directive(LoadedMetadata.name, LoadedMetadata.main)\n\t.directive(Progress.name, Progress.main)\n\t.directive(Ended.name, Ended.main)\n\t.directive(Play.name, Play.main)\n\t.directive(Pause.name, Pause.main);\n\nexport default MODULE_NAME;\n"],"names":["EVAL_SERVICE_NAME","EvalService","options","scope","locals","$event","attrs","$apply","$eval","fn","LOADED_METADATA_DIRECTIVE_NAME","LoadedMetadataDirective","element","on","event","videoWidth","videoHeight","scopeEval","name","PROGRESS_DIRECTIVE_NAME","ProgressDirective","buffered","ENDED_DIRECTIVE_NAME","EndedDirective","PLAY_DIRECTIVE_NAME","PlayDirective","PAUSE_DIRECTIVE_NAME","PauseDirective","MODULE_NAME","angular","module","service","main","directive","LoadedMetadata","Progress","Ended","Play","Pause"],"mappings":"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"}